<html>
<head>
  <title>wtmoo metasearch</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      font-family: 'FantasqueSansMono NF', 'JetBrains Mono', 'Fira Code', Consolas, monospace;
    }

    body {
      display: flex;
      flex-flow: column nowrap;
    }
    
    #title {
      font-size: 500%;
    }

    #searchbar {
      width: 60%; display: flex;
    }
    
    input { font-size: 200%; font-family: 'FantasqueSansMono NF', 'JetBrains Mono', 'Fira Code', Consolas, monospace; border: 1px solid #888; }
    #bang { width: 20%; border-radius: 5px 0 0 5px; } #query { width: 80%; border-left: none; border-radius: 0 5px 5px 0; }
  </style>
</head>
<body>
  <center>
    <h1 id="title">!wtmoo</h1>
    <form id="searchbar">
      <input type="text" id="bang" value="!g">
      <input type="text" id="query" placeholder="search here">
    </form>
  </center>
  <script>
    let bang = document.getElementById('bang'),
      query = document.getElementById('query');
    function onBangKeyup(e) {
      if (bang.value.length === 0) {
        bang.value = '!';
        return;
      }
      switch (e.key) {
        case ' ':
          query.focus();
          e.preventDefault();
          e.stopPropagation();
          break;
      }
    }
    function onQueryKeyup(e) {
      switch (e.key) {
        case 'Backspace':
          if (query.value.length === 0) {
            bang.focus();
            e.preventDefault();
            e.stopPropagation();
          }
          break;
      }
    }
    bang.addEventListener('keyup', onBangKeyup);
    query.addEventListener('keyup', onQueryKeyup);
  </script>
</body>
</html>